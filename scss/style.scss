@import url('normalize.css');
@import url('main.css');

$backgroundColor: #FEFEFE;
$bodyColor: #bababa;
$barColor: #101010;
$lightBarColor: #363636;
$highlightColor: #1f9bb5;
$projectBorderColor: #ccc;
$textColor: hsl(358, 1%, 8%);
$lightTextColor: #f3f3f3;
$padding: 1.25em;
$largestWidth: 1180px;
$expanderWidth: 24px;
$bottomExpanderWidth: 80px;
$articleNegativeMargin: 3em;
$closeButtonColor: #ec0000;
$contactsButtonHeight: 32px;
$contactsButtonMarginTop: 15px;
$contactsButtonMarginBottom: 7px;
$sprite: 'img/sprt.png';
$highResSprite: 'img/sprt@2x.png';
$formWidth: 300px;
$contactButtonsSpace: 48;
$contactButtonsBottomSpace: $contactButtonsSpace + px;

$basepx: 16;


$breakpoint30: 31rem;
$breakpoint53: 53rem;
$breakpoint60: 60rem;
$breakpoint75: 75rem;
$breakpoint95: 95rem;

@import "icons";

@import "compass/css3/transition";
@import "compass/css3/transform";
@import "compass/css3/opacity";
@import "compass/css3/border-radius";
@import "compass/css3/box-shadow";
@import "compass/css3/filter";
@import "compass/css3/box-sizing";
@import "compass/css3/text-shadow";

// Convert PX to EM global function
@function pxtoem($px, $basepx){
    @return ($px/$basepx)+0em;
}

@mixin vertAlignCenter($wdth) {
  width: $wdth;
  margin: 0 auto;
}


@mixin paddingTopBottom() {
    padding: $padding 0 $padding 0;
}

/*border box for all elements*/
*{
    @include box-sizing('border-box');
}

body {
  background-color: $backgroundColor;
  color: $textColor;
  font-family: 'Muli',sans-serif;
  font-style:  normal;
  margin: 0;
  padding: 0;
}


#masthead {    
    position: relative;
    z-index: 9999;  
    margin-bottom: pxtoem($contactButtonsSpace, $basepx) + $padding; /*for contact icons*/ 
    
    border-bottom: 6px solid #363636;
    
    .container {        
        background: $barColor;
        
        z-index: 3;
        
        padding: $padding $padding $padding/2 $padding;
        
        @media (min-width: $breakpoint60) {
            z-index: 1;
        } 
        
        @media (min-width: $breakpoint53) {
            padding-bottom: $padding;
        }      
    }
         
    
    h1{
       font-size: 2.4em;
       margin-bottom: 0; 
       display: inline-block;
    }
    
    h2{
       margin-bottom: 0;       
    }
    
    hgroup {
        vertical-align: middle;
        display: inline-block;
        position: relative;
        z-index: 1000;
        
        @media (max-width: $breakpoint30) {
            font-size: 60%;
        }
    } 
    @media (min-width: $breakpoint53) {
        padding-bottom: 0;
    } 
    
    @media (min-width: $breakpoint60) {
        margin-bottom: $padding;
    }  
        
}


#content{
   position: relative;
   z-index: 1; 
}

.project-image, .column {
    display: inline-block; 
    vertical-align: top;
}


.project-image {
    
    margin: 0 auto;
    width: 280px;
    display: block;
    
}

#nav li {
    display: inline;
}

h1,h2,h3,h4,h5,h6 {
    margin-top: 0;
    font-weight: normal;
}

.container {
    
    max-width: 1920px;
    padding: $padding;
    position: relative;
    margin: 0 auto;
}

#masthead, #mastfooter, #legal{
    background: $barColor;
    color: $lightTextColor;
}

#mastfooter {
    background: $lightBarColor;
    
    a {
        border: 0;
    }
}

.project {
    border-bottom: 1px solid $projectBorderColor;
    @include paddingTopBottom();  
    padding-top: 30px;
    margin-top: $padding;
    position: relative;

    img{
        border: 1px solid #ccc;
    }  
    
    &.mobile img{
        border: 0;
    } 
    
    &.expanded {
        padding-bottom: $padding * 3;
    }
    
    .button { /*prevent shadow clipping due to overflow hidden*/
        margin-left: 2px;
    }
}



.article-footer {
    padding-top: $padding;
}


.article-body{  
    @include transition(opacity 0.2s ease);    
}

.project-heading {
    position: relative;
}


.project img {
    vertical-align: top;
}

.article-divider {
    margin: 0 auto;
    width:$bottomExpanderWidth - 2;
    border-color: $backgroundColor;
    position: relative;
    top: -1px;
}

.transition{
    @include transition(all 0.2s ease); 
    /*@include transform(translateZ(0)); */
}

.list-heading {
    margin-bottom: 4px;
    color: hsl(0, 1%, 50%);
}

.button {
    background: #bababa;
    padding: 5px 7px;
    text-decoration: none;
    margin-top: 2em;
    display: inline-block;
    color: $backgroundColor;
    border: 0;
    
    @include border-radius(5px);
    
    &:visited {
        color: $backgroundColor;
    }
    
    &:hover {
        color: $highlightColor;
        background: #dcdcdc;
        @include box-shadow();
    }
    
    
}

input, textarea {
    font-family: 'Muli',sans-serif;
    border: 1px solid hsl(0, 1%, 50%); 
    padding: 2px;
}

.external-link {
    position: relative;
    padding-right: 24px;
    
    &:after{
        content: '';
        position: absolute;
        top: 8px;
        right: 3px;
        display: block;
        width: 13px;
        height: 13px;
        background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMDQuNzYxIDI4OC43NTEiPjxwb2x5Z29uIGZpbGw9IiNGMkYyRjIiIHBvaW50cz0iMzA0LjYsMC4xIDMwNC42LDAgMTY5LjUsMCAxNjkuNSwzMi4xIDI0Ny45LDMyLjEgMTIzLjYsMTQ5LjggMTQ3LjYsMTcyLjUgMjcwLjksNTUuNiAyNzAuOSwxMjguMiAzMDQuOCwxMjguMiAzMDQuOCwwLjEiLz48cG9seWdvbiBmaWxsPSIjRjJGMkYyIiBwb2ludHM9IjIzNi45LDE2MC43IDIwMywxNjAuNyAyMDMsMjU2LjcgMzMuOSwyNTYuNyAzMy45LDk2LjIgMTM1LjEsOTYuMiAxMzUuMSw2NC4yIDMzLjksNjQuMiAwLDY0LjIgMCw2NC4yIDAsOTYuMiAwLDk2LjIgMCwyNTYuNyAwLDI4OC44IDMzLjksMjg4LjggMjAzLDI4OC44IDIzNi45LDI4OC44IDIzNywyODguOCAyMzcsMjU2LjcgMjM2LjksMjU2LjciLz48L3N2Zz4=) no-repeat;
        
    }
}



.technologies {
    margin: 0;
    padding: 4px 0 0 0;
    
    border-bottom: 1px dotted $lightTextColor;
    border-top: 1px dotted $lightTextColor;
}

.annum {
    border-top: 1px solid $barColor;
    position: relative;
    padding-bottom: $padding;
    margin-top: $padding * 2;
}

.annum-heading {
    position: absolute;
    
    color:$highlightColor;
    
    top: -1.3em;
    left: 0;
    
    @media (min-width: $breakpoint53) {
    top: -0.7em;
    left: -2.5em;
  }
           
}

.content-heading {
    font-weight: bold;
    margin-bottom: 2em;
}

#technologies /*top footer bar*/{
    
    background: hsl(0, 1%, 80%);
    
    height: 42px;
    
    .container {
        padding: 0 $padding;
    }
}

#html5 img{
    margin-top: -11px;
}

#contact {
    
    position: relative;
    z-index: 100;
    
    #contact-options {
        margin: 0;
        padding: 0 $padding;
        background: $barColor;
        text-align: center;
                 
        @include border-radius(0 0 8px 8px); 
    
        @media (min-width: $breakpoint60) {
            text-align: right;
            padding: 0 $padding;
            
            .email{
                margin-right: 0;
            }
        }   
    }
    
    input {
        display: block;
    }
    
    
}

.no-js #contact {
    
    #contact-form-expander{
        display: none;
    }
}

#contact-wrapper {
    position: relative;
    
    @include transition(margin-bottom .3s ease); 
    @include transform(translateZ(0));  
}

.translucent {
    @include opacity (0.3);
}


.js {
    
    /*check if body has hover class (set in JS) to disbale hover effects during scroll*/
    .hover {
        .project:hover:not(.expanded){
            .bottom-expander div{
                bottom: -10px;
               /*@include transform (translateY(10px);*/
            }
        }
        
        
    }
    
    .project {
        height: 200px;
        overflow: hidden;

        
        cursor: pointer;
        
        @media (min-width: $breakpoint53) {
            height: 160px;
        }

        &.expanded{
            
            height: auto;
            cursor: default;
            
            .article-body{  
                @include opacity(1);
            }
            
            .bottom-expander div {
                background: $backgroundColor url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMDEuNDIyIDE3Ny4zNDEiPjxwb2x5Z29uIGZpbGw9IiM2MzY0NjQiIHBvaW50cz0iMzAxLjQsMTUwLjcgMTUwLjcsMCAxNTAuNywwIDE1MC43LC0wIDAsMTUwLjcgMjYuNiwxNzcuMyAxNTAuNyw1My4zIDI3NC44LDE3Ny4zIi8+PC9zdmc+) no-repeat center center;
                background-size: 25px;
                @include box-shadow(0px 0px 0px 0px hsl(0, 1%, 40%));
            }
            
            
        }
    }
    
    .bottom-expander{
        position: absolute;
        height: 40px;
        bottom: 0;
        width: 100%;
        box-sizing: content-box;
        overflow: hidden;
        text-align: center;
        cursor: pointer;
        
        div {
            background: $backgroundColor url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMDEuNDIyIDE3Ny4zNDEiPjxwb2x5Z29uIGZpbGw9IiM2MzY0NjQiIHBvaW50cz0iMCwyNi42IDE1MC43LDE3Ny4zIDE1MC43LDE3Ny4zIDE1MC43LDE3Ny4zIDMwMS40LDI2LjYgMjc0LjgsMCAxNTAuNywxMjQuMSAyNi42LDAiLz48L3N2Zz4=) no-repeat center center;
            background-size: 25px;
            text-indent: -9999px;
            display: inline-block;
            height: 100%;
            width: $bottomExpanderWidth;
            @include border-radius(40px 40px 0 0);
            position: relative;
            bottom: -5px;
            border: 1px solid $projectBorderColor;
            
            @include box-shadow(0px 0px 5px 0px hsl(0, 1%, 40%));
            
            @include transition(bottom .3s ease); 
            
        }
    }
    
    &.no-svg {
        
        .project {
            &.expanded{
                .bottom-expander div {
                    background-position: 25px -192px;
                }
            }
        }
        
        .bottom-expander div{
            background: $backgroundColor url($sprite) no-repeat -40px -194px;
        }
    }

    
    .article-body{  
        @include opacity(0);
    }
       
    
        
    #contact {

        background: $barColor;
        
        position: absolute;
        width: 100%;
        
        bottom: 0;
        
        textarea {
            max-height: 300px;
        }
    
        #contact-wrapper {
            margin-bottom: - $contactButtonsBottomSpace;
        }

        &.expanded  #contact-wrapper{         
            //@include transform(translateY(100%) translateX(0) );  
            
            
           margin-bottom: -200%;
            @include transition(margin-bottom .5s ease);
            @include transform(translateZ(0));  
            
            #contact-form-expander {
                //@include filter (grayscale(0)  opacity(1));
            }
        } 
        
        &.expanded #contact-form{
            //@include box-shadow(inset 0px 0px 5px 0px hsl(0, 1%, 40%));
        }
        
        
        #form-status{
            color: $textColor;
            min-height: 22px;
            
            &:before{
                content: '';                  
            }  
        }
        
        @media (min-width: $breakpoint60) {
            bottom:  $contactButtonsBottomSpace;
            width: 400px;
            right: 5%;

        }  
        
         &:after{
            content: '';
            width: 100%;
            height: 100%;
            background: $barColor;
            display: block;
            bottom: 0;
            left: 0;
            position: absolute;
            z-index: 1;
        }   
    }

}

#contact {
   z-index: 2; 
}



#contact-form {
    
    padding: $padding;
    padding-top: $padding;
      
    
    background: hsl(0, 1%, 90%); 
    
    input, textarea {

       margin: 5px 0;
       width: 100%;
    } 
    
    textarea{
        margin-top: 0;
    } 
    
    border: 2px solid $barColor; 
    
    h3 {
        color: $textColor;
    }
}

#form-submit {
    border: 0;
}


#legal {
    p{
        margin: 0;
        display: inline-block;
        padding: $padding/2 0;
    }
    
    .container {
        padding: 0 $padding;
    }
}

#skills{
    display: inline-block;
}

#skill-set {
    padding: 0 0 0 $padding;
    margin-bottom: 0;
}

#footer-main{
    h3 {
        text-decoration: underline;
    }
}

#footer-nav {
    position: absolute;
    right: $padding;
    top: 0;
    padding: $padding/2 0;
    
    a {

        color: $lightBarColor;
        text-decoration: none;
    }
}

.footnote{
    &:before{
        content:'* ';
    }
}

/*links*/
article p a{ 
    text-decoration: none;
    
    border-bottom: 1px dotted $lightBarColor;
    
    @include transition(all 0.2s ease);
       
    &:link {
        color:$highlightColor;
        border-color: $highlightColor;
    }
    
    &:active {
        color:#EB1A1A;
        border-color: #EB1A1A;
    }
    
    &:visited {
        color:$bodyColor;
        border-color: $bodyColor;
    }
    
    &:hover {
        color:$bodyColor;
        border-color: $bodyColor;
    }
     
}

#scroll-top{
    margin: $padding auto 0 auto;
    width: 50px;
    height: 45px;
    display: block; 
    text-align: center; 
    position: relative;
    text-decoration: none;
    padding-top: 20px;
    color:$textColor;
    font-size: 80%;
    outline: 0;
   
   &:before{
        content: '';
        position:absolute;
        display: block;
        left: -25px;
        top:5px;
        width: 0;
        height: 0;
        border-left: 50px solid transparent;
        border-right: 50px solid transparent;
        border-bottom: 40px solid hsl(0, 1%, 80%);
        z-index: -1;
        
        @include transition(all 0.2s ease);
   }
   
   &:hover{
       color:hsl(0, 1%, 90%);
   }
    
    &:hover:before{
        border-bottom-color: hsl(0, 1%, 50%);
    }
}

#html5-badge{
    width: 145px;
    height: 65px;
    display: inline-block;
    margin-top: -12px;
}

/*@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    Style adjustments for high resolution devices
    .icon {
        background-image:url($highResSprite);
    }
}*/


/*old school media queries - to cut down on file size*/

@media (min-width: $breakpoint30) {
    
}

@media (min-width: $breakpoint53) {
    
    .container{
        width: 48rem; 
    } 
    
    .project-image{
            width: 356px;
            float: right;
    }
    
    #ladl .project-image {
        height: 205px;
    }
    
    #In-search-of-health .project-image {
        height: 266px;
    }
    
    #supreme-styrene .project-image {
        height: 276px;
    }
    
    #mikado .project-image {
        height: 231px;
    }
    
    #santini-mobile .project-image {
        height: 219px;
    }
    
    #fairmade .project-image {
        height: 266px;
    }
    
    #cjvhPrinsloo .project-image {
        height: 246px;
    }
    
    #santini .project-image {
        height: 184px;
    }
    
    #santini-admin .project-image {
        height: 222px;
    }
    
    #shotopop .project-image {
        height: 194px;
    }
    
    .article-body, .project-head , #about {
        float: left;
        width: 20rem;
    }
    
    #about {
        margin-right: 1.5em;
    }
            
}


@media (min-width: $breakpoint75) {
    .container{
        width: 70rem; 
    } 
    
    .project-image{
            width: 570px;
            float: right;
    }
    
    
    #ladl .project-image {
        height: 328px;
    }
    
    #In-search-of-health .project-image {
        height: 426px;
    }
    
    #supreme-styrene .project-image {
        height: 441px;
    }
    
    #mikado .project-image {
        height: 369px;
    }
    
    #santini-mobile .project-image {
        height: 351px;
    }
    
    #fairmade .project-image {
        height: 425px;
    }
    
    #cjvhPrinsloo .project-image {
        height: 394px;
    }
    
    #santini .project-image {
        height: 294px;
    }
    
    #santini-admin .project-image {
        height: 355px;
    }
    
    #shotopop .project-image {
        height: 311px;
    }
    
    
    .article-body, .project-head, #about {
        float: left;
        width: 30rem;
    }
}



@media (min-width: $breakpoint95) {
    .container{
        width: 90rem; 
    } 
    
    .project-image{
            width: 900px;
            float: right;
    }
    
    #ladl .project-image {
        height: 516px;
    }
    
    #In-search-of-health .project-image {
        height: 672px;
    }
    
    #supreme-styrene .project-image {
        height: 696px;
    }
    
    #mikado .project-image {
        height: 581px;
    }
    
    #santini-mobile .project-image {
        height: 554px;
    }
    
    #fairmade .project-image {
        height: 670px;
    }
    
    #cjvhPrinsloo .project-image {
        height: 621px;
    }
    
    #santini .project-image {
        height: 462px;
    }
    
    #santini-admin .project-image {
        height: 560px;
    }
    
    #shotopop .project-image {
        height: 489px;
    }
    
    
    
    .article-body, .project-head , #about {
        float: left;
        width: 30rem;
    }
}